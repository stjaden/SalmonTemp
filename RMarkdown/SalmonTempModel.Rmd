---
title: "Salmon Temperature Model"
author: "Austin, Alexander, and Savannah"
date: "May 9, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



There are 5 general steps to this model:

1. Cold water is released from Dworshack dam (North Fork of the Clearwater River) and generates power

2. The cold water released from Dworshack dam (the North Fork of the Clearwater River) mixes with the warm water of the mainstem of the Clearwater River

3. The mixed Clearwater River mixes with the warm water of the Middle Fork of the Snake River

4. The mixed Snake River water enters the forebay of Lower Granite Dam where it is warmed by solar radiation

5. Water is released from Lower Granite Dam, which also generates power



# Step 1: Cold Water is released from Dworshack Dam and generates power

##Load libraries and data
```{r}

library(tidyverse)
library(readr)

```

```{r}

#load elevation data
dworshack_elv <- read_csv("../Data/dworshack_elv.csv") 

#load flow data
dworshack_flow <- read_csv("../Data/dworshack_flow.csv")

```


## Calculate power generation model inputs

### 
head (ft) = forebay elevation (ft) - tailwater elevation (ft)


```{r}

# create new column that calculates head and remove NAs
dworshack_head <- dworshack_elv %>% 
  mutate(head = (forebay_elv - tailwater_elv)) %>% 
  select(date, head) %>% 
  na.omit() 

# convert head from ft to m
dworshack_head <- mutate(dworshack_head, head_m = dworshack_head$head*0.305)


```






 